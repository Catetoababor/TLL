<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=h, initial-scale=1.0">
    <title>Trivial La Línea</title>
</head>

<body>
 
<div style="text-align:center">

    <h2 align="center">Trivial de La Línea de la Concepción</h2>

    <h3></h3>

    <button id="empezarpartida" style="background-color: white;" onclick="empezar()">Empezar</button>

    <h1 id="pregunta" align="center"></h1>

    <h3></h3>

    <button id="respuesta1" style="background-color: white;" disabled="true" onclick="seleccionado(this,1)"></button>

    <h3></h3>

    <button id="respuesta2" style="background-color: white;" disabled="true" onclick="seleccionado(this,2)"></button>

    <h3></h3>

    <button id="respuesta3" style="background-color: white;" disabled="true" onclick="seleccionado(this,3)"></button>

    <h2 id="acierto" align="center"></h2>

    <h3></h3>

    <button id="compartirresultado" style="background-color: white;" disabled="true" onclick="compartir()">Compartir</button>
    
</div>

    <script>

        const preguntas=[];
        const respuestas1=[];
        const respuestas2=[];
        const respuestas3=[];
        const respuestascorrectas = [1,2,3];
        var acertadas=0;
        var turno=0;

        preguntas[0]="Pregunta1";
        respuestas1[0]="Respuesta11";
        respuestas2[0]="Respuesta12";
        respuestas3[0]="Respuesta13";

        preguntas[1]="Pregunta2";
        respuestas1[1]="Respuesta21";
        respuestas2[1]="Respuesta22";
        respuestas3[1]="Respuesta23";

        preguntas[2]="Pregunta3";
        respuestas1[2]="Respuesta31";
        respuestas2[2]="Respuesta32";
        respuestas3[2]="Respuesta33";

        document.getElementById("respuesta1").style.display="none";
        document.getElementById("respuesta2").style.display="none";
        document.getElementById("respuesta3").style.display="none";
        document.getElementById("compartirresultado").style.display="none";

        function empezar()
        {
                document.getElementById("empezarpartida").disabled=true;
                document.getElementById("empezarpartida").style.display="none";
                document.getElementById("respuesta1").style.display="inline";
                document.getElementById("respuesta2").style.display="inline";
                document.getElementById("respuesta3").style.display="inline";
                document.getElementById("pregunta").innerHTML = preguntas[turno];
                document.getElementById("respuesta1").innerHTML = respuestas1[turno];
                document.getElementById("respuesta2").innerHTML = respuestas2[turno];
                document.getElementById("respuesta3").innerHTML = respuestas3[turno];
                document.getElementById("respuesta1").disabled=false;
                document.getElementById("respuesta2").disabled=false;
                document.getElementById("respuesta3").disabled=false;
                document.getElementById("respuesta1").style.color="black";
                document.getElementById("respuesta2").style.color="black";
                document.getElementById("respuesta3").style.color="black";
                document.getElementById("respuesta1").style.backgroundColor="white";
                document.getElementById("respuesta2").style.backgroundColor="white";
                document.getElementById("respuesta3").style.backgroundColor="white";
        }

        function seleccionado(botonpulsado,n)
        {
            document.getElementById("respuesta1").disabled=true;
            document.getElementById("respuesta2").disabled=true;
            document.getElementById("respuesta3").disabled=true;

            document.getElementById("respuesta1").style.color="black";
            document.getElementById("respuesta2").style.color="black";
            document.getElementById("respuesta3").style.color="black";

            botonpulsado.style.backgroundColor="deepskyblue";

            setTimeout(correcta, 2000,n);
        }

        function correcta(n)
        {
            document.getElementById("respuesta"+respuestascorrectas[turno].toString()).style.backgroundColor="green";
            if(n==respuestascorrectas[turno])
            {
                acertadas++;
            }
            document.getElementById("acierto").innerHTML = acertadas.toString()+" de 3";

            setTimeout(nuevoturno, 2000);
        }

        function nuevoturno()
        {
            if(turno!=2)
            {
                turno++;
                document.getElementById("pregunta").innerHTML = preguntas[turno];
                document.getElementById("respuesta1").innerHTML = respuestas1[turno];
                document.getElementById("respuesta2").innerHTML = respuestas2[turno];
                document.getElementById("respuesta3").innerHTML = respuestas3[turno];
                document.getElementById("respuesta1").disabled=false;
                document.getElementById("respuesta2").disabled=false;
                document.getElementById("respuesta3").disabled=false;
                document.getElementById("respuesta1").style.color="black";
                document.getElementById("respuesta2").style.color="black";
                document.getElementById("respuesta3").style.color="black";
                document.getElementById("respuesta1").style.backgroundColor="white";
                document.getElementById("respuesta2").style.backgroundColor="white";
                document.getElementById("respuesta3").style.backgroundColor="white";
            }
            else
            {
                document.getElementById("pregunta").disabled=true;
                document.getElementById("respuesta1").disabled=true;
                document.getElementById("respuesta2").disabled=true;
                document.getElementById("respuesta3").disabled=true;
                document.getElementById("pregunta").style.display="none";
                document.getElementById("respuesta1").style.display="none";
                document.getElementById("respuesta2").style.display="none";
                document.getElementById("respuesta3").style.display="none";
                document.getElementById("compartirresultado").disabled=false;
                document.getElementById("compartirresultado").style.display="inline";
            }
        }

        function compartir()
        {
            if ("share" in navigator) {
                navigator
                .share({
                 // Defino un título para la ventana de compartir
                title: "",
 
                // Detecto la URL actual de la página 
                url:
                window.location.href
                })
 
                // Mensaje en Consola cuando se presiona el botón de compartir 
                .then(() => {
                console.log("Contenido Compartido !");
                })
                .catch(console.error);
                } else {
                // Si el navegador no tiene soporte para la API compartir, le enviamos un mensaje al usuario
                alert('Lo siento, este navegador no tiene soporte para recursos compartidos.')
            }
        }
    
    </script>

</body>

</html>